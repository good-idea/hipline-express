{"version":3,"file":"0.54a5c4b6894a6f69a19b.hot-update.js","sources":["webpack:///src/js/sections/Schedule.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport R from 'ramda'\n\nimport ResponsiveImage from '../components/ResponsiveImage'\nimport { cn, slugify } from '../utils/helpers'\nimport { groupByDay, isToday, format, duration } from '../utils/dates'\n\n/**\n * DanceClass\n */\n\nclass DanceClass extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {}\n\t}\n\n\trender() {\n\t\tconst classNames = ['schedule__class']\n\t\tclassNames.push(`class-${slugify(this.props.title)}`)\n\t\tconst avatar = (this.props.choreographer) ?\n\t\t\t<ResponsiveImage classNames=\"avatar\" {...this.props.choreographer.cover} sizes={'100px'} /> :\n\t\t\tnull\n\t\treturn (\n\t\t\t<div className={cn(classNames)}>\n\t\t\t\t<h2 className=\"class__title\">\n\t\t\t\t\t{this.props.title}\n\t\t\t\t</h2>\n\t\t\t\t<div className=\"class__teacher\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<h3>{this.props.teacher}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"class__info\">\n\t\t\t\t\t<h3>{format(this.props.startTime, 'h:mm a')}</h3>\n\t\t\t\t\t<h3>{duration(this.props.startTime, this.props.endTime)}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"class__signup\">\n\t\t\t\t\t<button>Sign Up</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nDanceClass.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n}\n\nDanceClass.defaultProps = {\n\t// title: 'Shimmy'\n}\n\n/**\n * Day\n */\n\nconst Day = (props) => {\n\tconst classNames = ['schedule__day', 'column']\n\tif (isToday(props.date)) classNames.push('schedule__day--today')\n\treturn (\n\t\t<div className={cn(classNames)}>\n\t\t\t{props.classes.map(c => <DanceClass key={`class-${c.id}`} {...c} />)}\n\t\t</div>\n\t)\n}\n\nDay.propTypes = {\n\tclasses: PropTypes.arrayOf(\n\t\tPropTypes.shape(DanceClass.propTypes),\n\t),\n}\n\nDay.defaultProps = {\n\tclasses: [],\n}\n\n\n/**\n * Main Component\n */\n\n\nclass Schedule extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.buildSchedule = this.buildSchedule.bind(this)\n\t\tthis.state = {}\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.buildSchedule()\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (this.props.schedule.count > 0 || nextProps.choreographers.count > 0) this.buildSchedule(nextProps)\n\t}\n\n\tbuildSchedule(props = this.props) {\n\t\tconsole.log(props.schedule)\n\t\tconst schedule = R.pipe(\n\t\t\tR.map(danceclass => (\n\t\t\t\tR.assoc(\n\t\t\t\t\t'choreographer',\n\t\t\t\t\tprops.choreographers.find(c => c.firstname === danceclass.teacher),\n\t\t\t\t\tdanceclass,\n\t\t\t\t)\n\t\t\t)),\n\t\t\tgroupByDay('startTime'),\n\t\t)(props.schedule)\n\t\tconsole.log(props.schedule, schedule)\n\t\tthis.setState({ schedule })\n\t}\n\n\trender() {\n\t\tif (!this.props.schedule || !this.props.choreographers) return null\n\t\t// console.log(this.props)\n\t\treturn (\n\t\t\t<section className=\"schedule column--wide\">\n\t\t\t\t{Object.keys(this.state.schedule).map(key => <Day key={`day-${key}`} date={key} classes={this.state.schedule[key]} />)}\n\t\t\t</section>\n\t\t)\n\t}\n}\n\nSchedule.propTypes = {\n\tschedule: PropTypes.arrayOf(PropTypes.shape),\n\tchoreographers: PropTypes.arrayOf(PropTypes.shape),\n\t// title: PropTypes.string\n}\n\nSchedule.defaultProps = {\n\tschedule: [],\n\tchoreographers: [],\n\t// title: 'My Title'\n}\n\nexport default Schedule\n\n\n\n// WEBPACK FOOTER //\n// src/js/sections/Schedule.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAAA;AACA;;;AAEA;AACA;;;AAAA;AACA;AAAA;AACA;;;;;;;;;AACA;;;;AAIA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAZA;AAiBA;;;;AA9BA;AACA;AAgCA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;;;;AAJA;AASA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AADA;AAIA;AACA;AACA;AACA;AADA;AACA;AAKA;AACA;AACA;AAGA;;;;AALA;AAUA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AAHA;AAIA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAGA;AAAA;AAHA;AASA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AADA;AAIA;;;;AAvCA;AACA;AAyCA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AAHA;AACA;AAKA;;;;;;;;;AA7HA;AACA;AA4CA;AACA;AAyBA;AACA;;;;;;;;A","sourceRoot":""}